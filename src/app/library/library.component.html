<header class="header_main">
    <!-- <mat-grid-list cols="2" rowHeight="50px" class="title-list-elems">
        <mat-grid-tile class="title_text">WebLibrary</mat-grid-tile>
        <mat-grid-tile rowspan="2">
            <button mat-raised-button>Log Out</button>
        </mat-grid-tile>
        <mat-grid-tile >UserName</mat-grid-tile>
    </mat-grid-list> -->

    <div class="main_header_block">
        <p class="title">Web Library</p>
        <p class="username">{{user.userName}}</p>   
    </div>
     
    <div class="logOut_button"> 
        <button mat-raised-button (click)="logOut()">Log out</button>
    </div>
</header>
<mat-divider></mat-divider>

<!-- <mat-sidenav-container class="books_and_libraries">
    <mat-sidenav 
        opened 
        disableClose 
        mode="side"
        class="libraries_list"
    >
        

    </mat-sidenav>

    <mat-sidenav-content
        class="books_list"
    >
        
    </mat-sidenav-content>
</mat-sidenav-container> -->

<section class="books_and_libraries">
    <div class="libraries_list">
        <div class="libraries_list_title_button">
            <h1 class="libraries_list_title">Libraries</h1>
            <button 
                *ngIf="user.isAdmin"
                mat-icon-button
                (click)="createNewLibrary()"
            >
                <mat-icon>add_circle_outline</mat-icon>
            </button>
        </div>
    
        <div *ngIf="newLibrary && user.isAdmin">
            <mat-form-field>
                <mat-label>Enter library name</mat-label>
                <input matInput type="text" [(ngModel)]="newLibrary.name">
                <button 
                    mat-icon-button
                    (click)="addLibrary()"
                    matSuffix 
                    aria-label="Add" 
                >
                  <mat-icon>check</mat-icon>
                </button>
            </mat-form-field>
        </div>
        

        <mat-action-list *ngFor="let library of libraries" role="libraries" >
            <mat-list-item (click)="chooseLibrary(library)">
                
                    {{library.name}}
                
                <div matListItemMeta>
                    <!-- <button mat-icon-button>
                        <mat-icon>change</mat-icon>
                    </button> -->
                    <button 
                        *ngIf="user.isAdmin"
                        mat-icon-button
                        (click)="deleteLibrary(library)"
                    >
                        <mat-icon>delete</mat-icon>
                    </button>
                </div>
            </mat-list-item>     
            <mat-divider></mat-divider>
        </mat-action-list>
    </div>
    
    <app-books
        [books]="chosenBooks"
        [currLibrary]="currLibrary"
        (notifyBookCollectionChanged)="onNotifyBookCollectionChanged()"
    >
    </app-books>
</section>
